<!DOCTYPE html>
  <head>
    <link rel="stylesheet" href="/static/styleSignup.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js" type="text/javascript">
    </script>
  </head>
  <body>
	<script>
		function signup(uname, pwd, nme) {
			$.ajax({
                type: 'post',
                url: 'https://52.91.104.26:3000/user/signup',
                data: {username: uname, password: pwd, name: nme},
                dataType: 'text',
                error: function (data) {
                    alert("That username is already in use, please choose another!");
                    console.debug(data);
                },
                success: function (json) {
                    alert("Congratulations, you are now registered!");
                    window.location.replace('https://52.91.104.26:443');
                }
            });
		}
		function register(){
            var password = document.getElementById("password").value.length;
            var username = document.getElementById("username").value.length;
            var name = document.getElementById("name").value.length;
            if(name < 1){
                alert("Please choose a name!");
            }else if(username < 1){
                alert("Please choose a username!");
            }
            else if(password > 4){
			 signup(document.getElementById("username").value, document.getElementById("password").value, document.getElementById("name").value);
            }else{
                alert("Please choose a password that is longer than 4 characters!");
            }
		}
        function cancel(){
            window.location.replace('https://52.91.104.26:443');
        }
	</script>
	<h1>Grean Lean Electrics</h1>
	<div id="container">
        <h2>Register</h2>
        <input class="input" type="text" id="name" placeholder="Name" required>
        <input class="input" type="text" id="username" placeholder="Username" required>
        <input class="input" type="password" id="password" placeholder="Password" required>
        <button class="button" type="submit" onclick="register()">Register</button>
        <button class="button" type="submit" onclick="cancel()">Cancel</button>
  	</div>
  </body>
</html>
